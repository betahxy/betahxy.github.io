<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo+Next Settings</title>
      <link href="/2019/12/28/hexo-set-up/"/>
      <url>/2019/12/28/hexo-set-up/</url>
      
        <content type="html"><![CDATA[<h2 id="Basic-usage-of-hexo"><a href="#Basic-usage-of-hexo" class="headerlink" title="Basic usage of hexo"></a>Basic usage of hexo</h2><figure class="highlight bash"><figcaption><span>./foldername/</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Create a blog folder</span></span><br><span class="line">mkdir foldername </span><br><span class="line"><span class="comment">#Initialize folder</span></span><br><span class="line"><span class="built_in">cd</span> foldername</span><br><span class="line">hexo init</span><br><span class="line"><span class="comment">#Generate blog files</span></span><br><span class="line">hexo g</span><br><span class="line"><span class="comment">#Start up blog server</span></span><br><span class="line">hexo s</span><br><span class="line"><span class="comment">#Clean folder</span></span><br><span class="line">hexo clean</span><br></pre></td></tr></table></figure><h2 id="Configurations"><a href="#Configurations" class="headerlink" title="Configurations"></a>Configurations</h2><p>Install <code>next</code> theme</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> foldername</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p>Change theme scheme to <code>Gemini</code></p><figure class="highlight yaml"><figcaption><span>./theme/next/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br></pre></td></tr></table></figure><p>Sidebar settings</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Sidebar tag is related to a 'page' in hexo</span></span><br><span class="line"><span class="comment">#eg1: if we need a 'about' tag, we first create one 'about' page</span></span><br><span class="line">hexo new page about</span><br><span class="line"><span class="comment">#Hexo will create one 'about' folder in 'source' folder</span></span><br><span class="line"><span class="comment">#There will also be a 'index.md' file in the folder, which is our 'about' page</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><figcaption><span>./themes/next/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#In _config.yml file, find 'menu' </span></span><br><span class="line"><span class="comment">#Root diretroy is ./source</span></span><br><span class="line"><span class="comment">#add 'about' in menu</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span>    </span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#eg2: if we need a 'firefox' tage</span></span><br><span class="line"><span class="comment">#Add this in menu</span></span><br><span class="line"><span class="attr">firefox:</span> <span class="string">/categories/firefox</span> <span class="string">||</span> <span class="string">firefox</span></span><br></pre></td></tr></table></figure><p>Site search function</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Install search plugin</span></span><br><span class="line">npm install hexo-generator-search --save</span><br><span class="line"></span><br><span class="line"><span class="comment">#In site's _config.yml file, add</span></span><br><span class="line"><span class="comment"># Search </span></span><br><span class="line">search:</span><br><span class="line">  path: ./public/search.xml    <span class="comment">#index file for search engine</span></span><br><span class="line">  field: post                  <span class="comment">#search scope, default is all posts</span></span><br><span class="line">  format: html</span><br><span class="line">  <span class="built_in">limit</span>: 10000                 <span class="comment">#max search itmes</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#In ./theme/next/_config.yml file, add</span></span><br><span class="line">local_search:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>    <span class="comment">#make sure it is true</span></span><br><span class="line">  trigger: auto</span><br></pre></td></tr></table></figure><p>Add social in sidebar</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#We can add some social links like github in sidebar</span></span><br><span class="line"><span class="comment">#In ./theme/next/_config.yml, find 'social' and edit itmes you want</span></span><br></pre></td></tr></table></figure><p>Load images</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Create an images folder in root directory </span></span><br><span class="line"><span class="comment">#Then refer it</span></span><br><span class="line">![](/images/image.jpg) </span><br><span class="line">&lt;img src=<span class="string">"/images/test.png"</span> width=<span class="string">"30%"</span> height=<span class="string">"20%"</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="Other-settings"><a href="#Other-settings" class="headerlink" title="Other settings"></a>Other settings</h2><figure class="highlight plain"><figcaption><span>./_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#Only display one blog in a pge</span><br><span class="line">index_generator:</span><br><span class="line">  path: &#39;&#39;</span><br><span class="line">  per_page: 1    # set per_page to 1</span><br><span class="line">  order_by: -date</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wordpress configuration</title>
      <link href="/2019/12/28/wordpress-configuration/"/>
      <url>/2019/12/28/wordpress-configuration/</url>
      
        <content type="html"><![CDATA[<h2 id="Prerequisite"><a href="#Prerequisite" class="headerlink" title="Prerequisite"></a>Prerequisite</h2><p><code>php</code> + <code>nginx</code> + <code>mysql</code></p><h2 id="Install-mysql8-0"><a href="#Install-mysql8-0" class="headerlink" title="Install mysql8.0+"></a>Install mysql8.0+</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">brew install mysql / sudo apt install mysql-server</span><br><span class="line"></span><br><span class="line"><span class="comment">#We need sudo to login root user for mysql8.0+</span></span><br><span class="line"><span class="comment">#Password is empty</span></span><br><span class="line">$ sudo mysql -u root -p</span><br><span class="line"></span><br><span class="line"><span class="comment">#Mysql recommend mysql_secure_installation command to set up password for root user</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Create user in mysql</span></span><br><span class="line"><span class="comment">#[WITH mysql_native_password] is optional</span></span><br><span class="line"><span class="comment">#localhost is your IP，‘%‘ indicates any IP address</span></span><br><span class="line">$ CREATE USER <span class="string">'username'</span>@<span class="string">'localhost'</span> IDENTIFIED [WITH mysql_native_password] BY <span class="string">'password'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Change password for a user</span></span><br><span class="line">$ ALTER USER <span class="string">'username'</span>@<span class="string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'password'</span>;  </span><br><span class="line">$ FLUSH PRIVILEGES;  </span><br><span class="line"></span><br><span class="line"><span class="comment">#Delete user</span></span><br><span class="line">$ DROP USER <span class="string">'username'</span>@<span class="string">'localhost'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Grant user privileges</span></span><br><span class="line"><span class="comment">#privileges: like select, insert, etc</span></span><br><span class="line"><span class="comment">#databasename.tablename: your database name and table name</span></span><br><span class="line"><span class="comment">#[WITH GRANT OPTION] is optional</span></span><br><span class="line">$ GRANT privileges ON databasename.tablename TO <span class="string">'username'</span>@<span class="string">'host'</span> [WITH GRANT OPTION];</span><br><span class="line"></span><br><span class="line"><span class="comment">#eg:</span></span><br><span class="line">$ GRANT select,insert,update,delete,create,drop ON mydatabase.its_table TO <span class="string">'username'</span>@<span class="string">'localhost'</span>;</span><br><span class="line">$ GRANT ALL ON *.* TO <span class="string">'username'</span>@<span class="string">'localhost'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Show privileges</span></span><br><span class="line">$ SHOW GRANTS FOR <span class="string">'username'</span>@<span class="string">'localhost'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Revoke privileges</span></span><br><span class="line">$ REVOKE privilege ON databasename.tablename FROM <span class="string">'username'</span>@<span class="string">'localhost'</span>;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Mysql quick settings for wordpress</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Create wordpress user, allow localhost login, set password yourself</span></span><br><span class="line">$ CREATE USER <span class="string">'wordpress_admin'</span>@<span class="string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'password'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Create wordpress database</span></span><br><span class="line">$ CREATE database wordpress;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Grant wordpress privileges</span></span><br><span class="line">GRANT select,insert,update,delete,create,drop ON wordpress.* TO <span class="string">'wordpress_admin'</span>@<span class="string">'localhost'</span>;</span><br></pre></td></tr></table></figure><h2 id="Install-nginx"><a href="#Install-nginx" class="headerlink" title="Install nginx"></a>Install nginx</h2><figure class="highlight bash"><figcaption><span>/etc/nginx/sites-available/default</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install nginx / brew install nginx</span><br><span class="line"></span><br><span class="line"><span class="comment">#nginx server configuration format</span></span><br><span class="line">server&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Configuration for php</span></span><br><span class="line">server &#123;</span><br><span class="line">        <span class="comment">#80: listening port</span></span><br><span class="line">listen 80 default_server;</span><br><span class="line">listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#root directory for web files, change $HOME to your absolute path</span></span><br><span class="line">root  <span class="variable">$HOME</span>/usr/www/html;</span><br><span class="line"></span><br><span class="line"><span class="comment">#put index.php after index, or nginx will not work</span></span><br><span class="line">index index.php index.html index.htm index.nginx-debian.html;</span><br><span class="line"></span><br><span class="line">server_name _;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">            <span class="comment"># First attempt to serve request as file, then</span></span><br><span class="line">            <span class="comment"># as directory, then fall back to displaying a 404.</span></span><br><span class="line">            try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ =404;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># pass PHP scripts to FastCGI server</span></span><br><span class="line">location ~ \.php$ &#123;</span><br><span class="line">            <span class="comment">#wordpress root dir</span></span><br><span class="line">            root <span class="variable">$HOME</span>/usr/www/html;</span><br><span class="line">    <span class="comment">#fastcgi</span></span><br><span class="line">    fastcgi_index index.php;</span><br><span class="line">    <span class="comment">#listening port for php</span></span><br><span class="line">            fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">            <span class="comment">#fastcgi, change $HOME to your absolute path</span></span><br><span class="line">            fastcgi_param  SCRIPT_FILENAME  <span class="variable">$HOME</span>/usr/www/html/<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">    <span class="comment">#fastcgi params</span></span><br><span class="line">            include fastcgi_params;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><figcaption><span>/etc/php/7.3/fpm/pool.d/www.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#set fastcgi listing port, it is the same as the setting in nginx for php</span></span><br><span class="line">$ <span class="built_in">cd</span> /etc/php/7.3/fpm/pool.d/</span><br><span class="line"><span class="comment">#In www.conf file, find this</span></span><br><span class="line">listen = /run/php/php7.3-fpm.sock</span><br><span class="line"><span class="comment">#Change it to</span></span><br><span class="line">listen = 127.0.0.1:9000</span><br><span class="line"></span><br><span class="line"><span class="comment">#Restart nginx</span></span><br><span class="line">$ sudo service nginx restart</span><br></pre></td></tr></table></figure><h3 id="Install-php"><a href="#Install-php" class="headerlink" title="Install php"></a>Install php</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Install php7.3-fpm and php-mysql</span></span><br><span class="line">$ sudo apt install php7.3-fpm php-mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#restart php-fpm after config www.conf file above</span></span><br><span class="line">$ sudo service php7.3-fpm restart</span><br></pre></td></tr></table></figure><h2 id="Wordpress"><a href="#Wordpress" class="headerlink" title="Wordpress"></a>Wordpress</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Decompress wordpress files into /var/www/html/ directory</span></span><br><span class="line">$ tar xf wordpress.tar.gz</span><br><span class="line">$ cp -r wordpress/* /var/www/html/</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Firefox configuration</title>
      <link href="/2019/12/28/firefox-configuration/"/>
      <url>/2019/12/28/firefox-configuration/</url>
      
        <content type="html"><![CDATA[<h2 id="Common-settings-for-firefox"><a href="#Common-settings-for-firefox" class="headerlink" title="Common settings for firefox"></a>Common settings for firefox</h2><p>Stop webview for mobile firefox</p><figure class="highlight yaml"><figcaption><span>about:config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">network.protocol-handler.external-default</span> <span class="string">=</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>Forbid webrtc</p><figure class="highlight yaml"><figcaption><span>about:config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">media.peerconnection.enabled</span> <span class="string">=</span> <span class="literal">false</span></span><br><span class="line"><span class="string">media.peerconnection.turn.disable</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"><span class="string">media.peerconnection.use_document_iceservers</span> <span class="string">=</span> <span class="literal">false</span></span><br><span class="line"><span class="string">media.peerconnection.video.enabled</span> <span class="string">=</span> <span class="literal">false</span></span><br><span class="line"><span class="string">media.peerconnection.identity.timeout</span> <span class="string">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>Zoom for touch pad</p><figure class="highlight yaml"><figcaption><span>about:config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">browser.gesture.pinch.in</span> <span class="string">=</span> <span class="string">cmd_fullZoomReduce</span></span><br><span class="line"><span class="string">browser.gesture.pinch.in.shift</span> <span class="string">=</span> <span class="string">cmd_fullZoomReset</span></span><br><span class="line"><span class="string">browser.gesture.pinch.out</span> <span class="string">=</span> <span class="string">cmd_fullZoomEnlarge</span></span><br><span class="line"><span class="string">browser.gesture.pinch.out.shift</span> <span class="string">=</span> <span class="string">cmd_fullZoomReset</span></span><br><span class="line"><span class="string">browser.gesture.pinch.latched</span> <span class="string">=</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><p><a href="https://gist.github.com/0XDE57/fbd302cef7693e62c769" target="_blank" rel="noopener">github private settings</a></p><figure class="highlight yaml"><figcaption><span>about:config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#User agent，this doesn't work in firefox ESR，please test it in advance</span></span><br><span class="line"><span class="string">general.useragent.override</span> <span class="string">=</span> <span class="string">Mozilla/5.0</span> <span class="string">(Windows</span> <span class="string">NT</span> <span class="number">6.1</span><span class="string">;</span> <span class="string">WOW64)</span> <span class="string">AppleWebKit/537.36</span> <span class="string">(KHTML,</span> <span class="string">like</span> <span class="string">Gecko)</span> <span class="string">Chrome/39.0.2171.71</span> <span class="string">Safari/537.36</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> firefox </category>
          
      </categories>
      
      
        <tags>
            
            <tag> firefox </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
